🎯 AppManager - IIS Monitoring & Management System
===================================================

✅ STATUS: VOLLSTÄNDIG FUNKTIONSFÄHIG (Stand: 12.09.2025)
🆕 **NEUESTE VERSION**: v2.2 - Navigation UX + Button Styling

📋 PROJEKT ÜBERSICHT
-------------------
• ASP.NET Core 8.0 Webanwendung für IIS Application Pool Management
• Self-contained Deployment erfolgreich implementiert  
• Sicherheitsprobleme mit Windows Service Architektur gelöst
• Direkte Microsoft.Web.Administration Integration (vereinfacht)
• 🎨 Pistazien-grünes Design mit schwarzen Button-Rändern + roten Schatten
• 🚀 Dedizierte IISManager-Seite mit CPU-Monitoring

🚀 DEPLOYMENT ERFOLG
-------------------
✅ Self-contained Publish: C:\Users\silav\Desktop\iismanager
✅ IIS Website: AppManager auf Port 85 (http://localhost:85)
✅ Application Pool: AppManagerPool mit LocalSystem Identity
✅ NTFS Berechtigungen: 508 Dateien konfiguriert
✅ SQLite Database: Foreign Key Constraints deaktiviert für Stabilität
✅ Development Mode: Detaillierte Fehlermeldungen aktiviert

🔧 TECHNISCHE ARCHITEKTUR
------------------------
• Services/AppService.cs: Vereinfacht von 600+ auf ~200 Zeilen
• Direkte ServerManager Integration (keine Named Pipes mehr)
• Exception Handling für UnauthorizedAccessException
• Automatische IIS Setup Skripte (Setup-IIS-Permissions.bat)

🔒 SICHERHEIT & BERECHTIGUNGEN
-----------------------------
• Application Pool läuft mit LocalSystem (IIS Management Berechtigungen)
• IIS_IUSRS Berechtigungen für Deployment-Verzeichnis gesetzt
• Anonyme Authentifizierung aktiviert
• Foreign Key Constraints deaktiviert für Produktionsstabilität

📊 FEATURES IMPLEMENTIERT
-------------------------
• ✅ IIS Application Pool Monitoring
• ✅ Start/Stop/Recycle Funktionen
• ✅ App-Owner Berechtigungen System
• ✅ SQLite Datenbank Integration
• ✅ Admin Dashboard mit Diagrammen
• ✅ Benutzer- und Rollenverwaltung
• ✅ Launch History Tracking

🛠️ SETUP ANLEITUNG
------------------
1. Self-contained Publish bereits erledigt
2. IIS Setup Skript bereits ausgeführt
3. Website läuft unter: http://localhost:85
4. Admin Login verfügbar

⚡ PERFORMANCE OPTIMIERUNGEN
---------------------------
• Dramatische Vereinfachung der Architektur
• Entfernung komplexer Windows Service Komponenten
• Direkte IIS API Integration ohne Middleware
• Optimierte Exception Handling

🔄 TROUBLESHOOTING GELÖST
------------------------
• ❌ HTTP 500.19 (Konfigurationsfehler) → ✅ Behoben
• ❌ HTTP 401.3 (Berechtigungsfehler) → ✅ Behoben  
• ❌ HTTP 401.2 (Authentifizierung) → ✅ Behoben
• ❌ SQLite Foreign Key Constraints → ✅ Deaktiviert
• ❌ Port-Konflikte (85) → ✅ Alte Website gestoppt

📝 ENTWICKLUNGSHISTORIE
----------------------
• Phase 1: Komplexe Windows Service Architektur (zu groß)
• Phase 2: Vereinfachung auf direkte IIS Integration  
• Phase 3: Self-contained Deployment Implementation
• Phase 4: IIS Berechtigungen und Authentifizierung
• Phase 5: SQLite Optimierung und Stabilität
• Phase 6: 🎨 Pistazien-grünes UI Design mit modernen Effekten
• Phase 7: 🚀 IISManager-Seite mit CPU PerformanceCounter Integration
• Phase 8: 🔄 Navigation UX Verbesserungen + schwarze Button-Ränder + rote Schatten

🆕 NEUE FEATURES (v2.2)
----------------------
• 🏠 Dashboard: ReadOnly Übersicht + Navigation Hub
• 📱 ApplicationManagement: Windows Apps Verwaltung + IIS Weiterleitung  
• 🚀 IISManager: Dedizierte AppPool-Verwaltung mit CPU-Monitoring
• 🎨 Button Styling: Schwarze Ränder (2px solid #000) + Rote Schatten
• 📊 CPU Monitoring: PerformanceCounter Integration für Echtzeit-Auslastung
• ⏰ Peak-Zeit Analyse: Intelligente Tageszeit-basierte CPU-Trend-Berechnung
• 🔄 Auto-Refresh: Automatische Aktualisierung der CPU-Werte

🎯 NAVIGATION STRUKTUR
---------------------
Dashboard (Übersicht) 
├── 📱 Windows Apps → ApplicationManagement
│   ├── Windows Apps: Start/Stop/Restart (lokale Kontrolle)
│   └── IIS Apps: "🚀 IIS Manager" Button (Weiterleitung)
└── 🚀 IIS AppPools → IISManager  
    ├── AppPool Start/Stop/Recycle
    ├── Echtzeit CPU-Monitoring  
    ├── Peak-Zeit Analyse (Morgen/Mittag/Abend/Nacht)
    └── CPU-Trend Berechnung mit Variation

🎯 NÄCHSTE SCHRITTE
------------------
• System ist produktionsbereit
• Alle kritischen Fehler behoben
• IIS Management vollständig funktional
• Monitoring Dashboard verfügbar

💡 WICHTIGE ERKENNTNISSE
-----------------------
• Vereinfachung war der Schlüssel zum Erfolg
• Self-contained Deployment ideal für IIS
• LocalSystem Identity notwendig für IIS Management
• Foreign Key Deaktivierung verbessert Stabilität

🔧 DEPLOYMENT BEFEHLE
--------------------
# Self-contained Publish:
dotnet publish --configuration Release --self-contained true --runtime win-x64 --output "C:\Users\silav\Desktop\iismanager"

# IIS Setup:
Setup-IIS-Permissions.bat (bereits ausgeführt)

# Website URL:
http://localhost:85

===================================================
© 2025 AppManager - IIS Monitoring System
Entwickelt für sichere und effiziente IIS Verwaltung
===================================================